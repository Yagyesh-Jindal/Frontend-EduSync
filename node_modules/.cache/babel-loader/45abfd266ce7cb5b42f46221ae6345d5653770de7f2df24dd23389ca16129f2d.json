{"ast":null,"code":"var _jsxFileName = \"E:\\\\project-capg\\\\frontend\\\\src\\\\pages\\\\CourseManagementPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, Button, Form, Alert, Spinner, Tab, Tabs, ListGroup, Modal } from \"react-bootstrap\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { courseService, courseMaterialService, assessmentService, fileService } from \"../services/api\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CourseManagementPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [course, setCourse] = useState(null);\n  const [materials, setMaterials] = useState([]);\n  const [assessments, setAssessments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [materialsLoading, setMaterialsLoading] = useState(false);\n\n  // Course edit form\n  const [editMode, setEditMode] = useState(false);\n  const [courseForm, setCourseForm] = useState({\n    title: \"\",\n    description: \"\",\n    mediaUrl: \"\"\n  });\n\n  // Material upload modal\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [uploadForm, setUploadForm] = useState({\n    title: \"\",\n    file: null,\n    uploading: false\n  });\n\n  // Assessment modal\n  const [showAssessmentModal, setShowAssessmentModal] = useState(false);\n  useEffect(() => {\n    const fetchCourseData = async () => {\n      try {\n        setLoading(true);\n        setError(\"\");\n\n        // Fetch course details\n        const courseResponse = await courseService.getCourseById(id);\n        const courseData = courseResponse.data;\n        setCourse(courseData);\n        setCourseForm({\n          title: courseData.title,\n          description: courseData.description,\n          mediaUrl: courseData.mediaUrl || \"\"\n        });\n\n        // Fetch course materials\n        await fetchMaterials();\n\n        // Fetch assessments\n        const assessmentsResponse = await assessmentService.getAssessmentsByCourse(id);\n        setAssessments(assessmentsResponse.data || []);\n      } catch (err) {\n        console.error(\"Error fetching course data:\", err);\n        if (err.response) {\n          console.error(\"Error response data:\", err.response.data);\n          console.error(\"Error response status:\", err.response.status);\n          setError(`Failed to load course information. Server error: ${err.response.status} ${err.response.statusText}`);\n        } else if (err.request) {\n          console.error(\"No response received:\", err.request);\n          setError(\"Failed to load course information. No response received from server.\");\n        } else {\n          setError(`Failed to load course information: ${err.message}`);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (id) {\n      fetchCourseData();\n    }\n  }, [id]);\n  const fetchMaterials = async () => {\n    try {\n      setMaterialsLoading(true);\n      console.log(\"Fetching materials for course ID:\", id);\n      const materialsResponse = await courseMaterialService.getMaterials(id);\n      console.log(\"Materials response:\", materialsResponse);\n      setMaterials(materialsResponse.data || []);\n    } catch (err) {\n      console.error(\"Error fetching materials:\", err);\n      if (err.response) {\n        console.error(\"Materials error response data:\", err.response.data);\n        console.error(\"Materials error response status:\", err.response.status);\n      }\n      // Don't set error state here to avoid overriding other errors\n    } finally {\n      setMaterialsLoading(false);\n    }\n  };\n  const handleCourseUpdate = async e => {\n    e.preventDefault();\n    try {\n      setError(\"\");\n      await courseService.updateCourse(id, courseForm);\n      setCourse({\n        ...course,\n        ...courseForm\n      });\n      setSuccess(\"Course updated successfully!\");\n      setEditMode(false);\n\n      // Clear success message after 3 seconds\n      setTimeout(() => {\n        setSuccess(\"\");\n      }, 3000);\n    } catch (err) {\n      console.error(\"Error updating course:\", err);\n      if (err.response) {\n        setError(`Failed to update course. Server error: ${err.response.status} ${err.response.statusText}`);\n      } else if (err.request) {\n        setError(\"Failed to update course. No response received from server.\");\n      } else {\n        setError(`Failed to update course: ${err.message}`);\n      }\n    }\n  };\n  const handleFileChange = e => {\n    setUploadForm({\n      ...uploadForm,\n      file: e.target.files[0]\n    });\n  };\n  const handleUploadMaterial = async e => {\n    e.preventDefault();\n    if (!uploadForm.title || !uploadForm.file) {\n      setError(\"Please provide a title and select a file to upload.\");\n      return;\n    }\n    try {\n      setUploadForm({\n        ...uploadForm,\n        uploading: true\n      });\n\n      // First upload the file\n      const fileResponse = await fileService.uploadFile(uploadForm.file, \"course\");\n\n      // Then create the course material with the file URL\n      const materialData = {\n        title: uploadForm.title,\n        type: uploadForm.file.type,\n        url: fileResponse.data.url,\n        fileName: uploadForm.file.name\n      };\n      await courseMaterialService.addMaterial(id, materialData);\n\n      // Refresh materials list\n      await fetchMaterials();\n\n      // Reset form and close modal\n      setUploadForm({\n        title: \"\",\n        file: null,\n        uploading: false\n      });\n      setShowUploadModal(false);\n      setSuccess(\"Material uploaded successfully!\");\n\n      // Clear success message after 3 seconds\n      setTimeout(() => {\n        setSuccess(\"\");\n      }, 3000);\n    } catch (err) {\n      console.error(\"Error uploading material:\", err);\n      setError(\"Failed to upload material. Please try again.\");\n      setUploadForm({\n        ...uploadForm,\n        uploading: false\n      });\n    }\n  };\n  const handleManualMaterialAdd = () => {\n    // This is a temporary workaround for the backend issue\n    const tempMaterial = {\n      id: Date.now().toString(),\n      // Temporary ID\n      title: uploadForm.title,\n      type: uploadForm.file ? uploadForm.file.type : \"application/pdf\",\n      fileName: uploadForm.file ? uploadForm.file.name : \"document.pdf\",\n      url: \"#\",\n      // Placeholder URL\n      uploadedAt: new Date().toISOString()\n    };\n\n    // Add to local state\n    setMaterials([...materials, tempMaterial]);\n\n    // Reset form and close modal\n    setUploadForm({\n      title: \"\",\n      file: null,\n      uploading: false\n    });\n    setShowUploadModal(false);\n    setSuccess(\"Material added to course (temporary). Backend storage is currently unavailable.\");\n\n    // Clear success message after 5 seconds\n    setTimeout(() => {\n      setSuccess(\"\");\n    }, 5000);\n  };\n  const handleDeleteMaterial = async materialId => {\n    if (window.confirm(\"Are you sure you want to delete this material?\")) {\n      try {\n        await courseMaterialService.deleteMaterial(id, materialId);\n        setMaterials(materials.filter(m => m.id !== materialId));\n        setSuccess(\"Material deleted successfully!\");\n\n        // Clear success message after 3 seconds\n        setTimeout(() => {\n          setSuccess(\"\");\n        }, 3000);\n      } catch (err) {\n        console.error(\"Error deleting material:\", err);\n        setError(\"Failed to delete material. Please try again.\");\n      }\n    }\n  };\n  const createNewAssessment = () => {\n    navigate(`/assessment/create?courseId=${id}`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        children: \"Loading course management...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Redirect if not an instructor or if the course doesn't belong to this instructor\n  if (!user || user.role !== \"Instructor\") {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: \"You do not have permission to manage this course.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: () => navigate(\"/courses\"),\n        className: \"mt-3\",\n        children: \"Back to Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"py-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Course Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-primary\",\n              className: \"me-2\",\n              onClick: () => navigate(`/course/${id}`),\n              children: \"View Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: editMode ? \"success\" : \"primary\",\n              onClick: () => setEditMode(!editMode),\n              children: editMode ? \"Save Changes\" : \"Edit Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      className: \"mb-4\",\n      onClose: () => setError(\"\"),\n      dismissible: true,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      className: \"mb-4\",\n      onClose: () => setSuccess(\"\"),\n      dismissible: true,\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: editMode ? /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleCourseUpdate,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"courseTitle\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Course Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: courseForm.title,\n              onChange: e => setCourseForm({\n                ...courseForm,\n                title: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"courseDescription\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Course Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 4,\n              value: courseForm.description,\n              onChange: e => setCourseForm({\n                ...courseForm,\n                description: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"courseImage\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Course Image URL (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"url\",\n              value: courseForm.mediaUrl,\n              onChange: e => setCourseForm({\n                ...courseForm,\n                mediaUrl: e.target.value\n              }),\n              placeholder: \"https://example.com/image.jpg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), courseForm.mediaUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: courseForm.mediaUrl,\n                alt: \"Course preview\",\n                style: {\n                  maxHeight: \"200px\",\n                  maxWidth: \"100%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => setEditMode(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: course === null || course === void 0 ? void 0 : course.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: course === null || course === void 0 ? void 0 : course.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), (course === null || course === void 0 ? void 0 : course.mediaUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: course.mediaUrl,\n            alt: course.title,\n            style: {\n              maxHeight: \"200px\",\n              maxWidth: \"100%\"\n            },\n            className: \"mt-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"materials\",\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"materials\",\n        title: \"Course Materials\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: \"Course Materials\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                className: \"me-2\",\n                onClick: fetchMaterials,\n                disabled: materialsLoading,\n                children: materialsLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    as: \"span\",\n                    animation: \"border\",\n                    size: \"sm\",\n                    role: \"status\",\n                    \"aria-hidden\": \"true\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 23\n                  }, this), \"Refreshing...\"]\n                }, void 0, true) : \"Refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                onClick: () => setShowUploadModal(true),\n                children: \"Upload New Material\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: materialsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center p-4\",\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3\",\n                children: \"Loading materials...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this) : materials.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"info\",\n              children: [\"No materials have been added to this course yet.\", /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                className: \"d-block mx-auto mt-3\",\n                onClick: () => setShowUploadModal(true),\n                children: \"Upload Your First Material\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: materials.map(material => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                className: \"d-flex align-items-center py-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"me-3 fs-4\",\n                  children: fileService.getFileIcon(material.url)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-1\",\n                    children: material.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-muted mb-0 small\",\n                    children: material.fileName || fileService.getFileNameFromUrl(material.url)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-danger\",\n                    size: \"sm\",\n                    onClick: () => handleDeleteMaterial(material.id),\n                    className: \"ms-2\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this)]\n              }, material.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"assessments\",\n        title: \"Assessments\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: \"Course Assessments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              onClick: createNewAssessment,\n              children: \"Create New Assessment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: assessments.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"info\",\n              children: [\"No assessments have been added to this course yet.\", /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                className: \"d-block mx-auto mt-3\",\n                onClick: createNewAssessment,\n                children: \"Create Your First Assessment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: assessments.map(assessment => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                className: \"d-flex align-items-center py-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"me-3 fs-4\",\n                  children: \"\\uD83D\\uDCDD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-1\",\n                    children: assessment.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-muted mb-0 small\",\n                    children: [\"Max Score: \", assessment.maxScore, \" points\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-primary\",\n                    size: \"sm\",\n                    onClick: () => navigate(`/assessment/edit/${assessment.assessmentId}`),\n                    className: \"me-2\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-danger\",\n                    size: \"sm\",\n                    onClick: () => {\n                      if (window.confirm(\"Are you sure you want to delete this assessment?\")) {\n                        assessmentService.deleteAssessment(assessment.assessmentId).then(() => {\n                          setAssessments(assessments.filter(a => a.assessmentId !== assessment.assessmentId));\n                          setSuccess(\"Assessment deleted successfully!\");\n                        }).catch(err => {\n                          console.error(\"Error deleting assessment:\", err);\n                          setError(\"Failed to delete assessment. Please try again.\");\n                        });\n                      }\n                    },\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this)]\n              }, assessment.assessmentId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showUploadModal,\n      onHide: () => !uploadForm.uploading && setShowUploadModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Upload Course Material\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          onClose: () => setError(\"\"),\n          dismissible: true,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleUploadMaterial,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Material Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: uploadForm.title,\n              onChange: e => setUploadForm({\n                ...uploadForm,\n                title: e.target.value\n              }),\n              placeholder: \"Enter a title for this material\",\n              required: true,\n              disabled: uploadForm.uploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"file\",\n              onChange: handleFileChange,\n              required: true,\n              disabled: uploadForm.uploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => setShowUploadModal(false),\n              disabled: uploadForm.uploading,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              disabled: uploadForm.uploading || !uploadForm.title || !uploadForm.file,\n              children: uploadForm.uploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                  as: \"span\",\n                  animation: \"border\",\n                  size: \"sm\",\n                  role: \"status\",\n                  \"aria-hidden\": \"true\",\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this), \"Uploading...\"]\n              }, void 0, true) : \"Upload Material\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"warning\",\n              onClick: handleManualMaterialAdd,\n              disabled: uploadForm.uploading || !uploadForm.title,\n              title: \"Temporary workaround for backend issues\",\n              children: \"Add Without Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseManagementPage, \"ZtYJdllzavxdGRH6Fj1o9ahgmtk=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = CourseManagementPage;\nexport default CourseManagementPage;\nvar _c;\n$RefreshReg$(_c, \"CourseManagementPage\");","map":{"version":3,"names":["useState","useEffect","Container","Row","Col","Card","Button","Form","Alert","Spinner","Tab","Tabs","ListGroup","Modal","useParams","useNavigate","courseService","courseMaterialService","assessmentService","fileService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","CourseManagementPage","_s","id","user","navigate","course","setCourse","materials","setMaterials","assessments","setAssessments","loading","setLoading","error","setError","success","setSuccess","materialsLoading","setMaterialsLoading","editMode","setEditMode","courseForm","setCourseForm","title","description","mediaUrl","showUploadModal","setShowUploadModal","uploadForm","setUploadForm","file","uploading","showAssessmentModal","setShowAssessmentModal","fetchCourseData","courseResponse","getCourseById","courseData","data","fetchMaterials","assessmentsResponse","getAssessmentsByCourse","err","console","response","status","statusText","request","message","log","materialsResponse","getMaterials","handleCourseUpdate","e","preventDefault","updateCourse","setTimeout","handleFileChange","target","files","handleUploadMaterial","fileResponse","uploadFile","materialData","type","url","fileName","name","addMaterial","handleManualMaterialAdd","tempMaterial","Date","now","toString","uploadedAt","toISOString","handleDeleteMaterial","materialId","window","confirm","deleteMaterial","filter","m","createNewAssessment","className","children","animation","variant","_jsxFileName","lineNumber","columnNumber","role","onClick","onClose","dismissible","Body","onSubmit","Group","controlId","Label","Control","value","onChange","required","as","rows","placeholder","src","alt","style","maxHeight","maxWidth","defaultActiveKey","eventKey","Header","disabled","size","length","map","material","Item","getFileIcon","getFileNameFromUrl","assessment","maxScore","assessmentId","deleteAssessment","then","a","catch","show","onHide","closeButton","Title","_c","$RefreshReg$"],"sources":["E:/project-capg/frontend/src/pages/CourseManagementPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Container, Row, Col, Card, Button, Form, Alert, Spinner, Tab, Tabs, ListGroup, Modal } from \"react-bootstrap\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { courseService, courseMaterialService, assessmentService, fileService } from \"../services/api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst CourseManagementPage = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const [course, setCourse] = useState(null);\r\n  const [materials, setMaterials] = useState([]);\r\n  const [assessments, setAssessments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [materialsLoading, setMaterialsLoading] = useState(false);\r\n  \r\n  // Course edit form\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [courseForm, setCourseForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    mediaUrl: \"\"\r\n  });\r\n  \r\n  // Material upload modal\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [uploadForm, setUploadForm] = useState({\r\n    title: \"\",\r\n    file: null,\r\n    uploading: false\r\n  });\r\n\r\n  // Assessment modal\r\n  const [showAssessmentModal, setShowAssessmentModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchCourseData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        \r\n        // Fetch course details\r\n        const courseResponse = await courseService.getCourseById(id);\r\n        const courseData = courseResponse.data;\r\n        setCourse(courseData);\r\n        setCourseForm({\r\n          title: courseData.title,\r\n          description: courseData.description,\r\n          mediaUrl: courseData.mediaUrl || \"\"\r\n        });\r\n        \r\n        // Fetch course materials\r\n        await fetchMaterials();\r\n        \r\n        // Fetch assessments\r\n        const assessmentsResponse = await assessmentService.getAssessmentsByCourse(id);\r\n        setAssessments(assessmentsResponse.data || []);\r\n      } catch (err) {\r\n        console.error(\"Error fetching course data:\", err);\r\n        if (err.response) {\r\n          console.error(\"Error response data:\", err.response.data);\r\n          console.error(\"Error response status:\", err.response.status);\r\n          setError(`Failed to load course information. Server error: ${err.response.status} ${err.response.statusText}`);\r\n        } else if (err.request) {\r\n          console.error(\"No response received:\", err.request);\r\n          setError(\"Failed to load course information. No response received from server.\");\r\n        } else {\r\n          setError(`Failed to load course information: ${err.message}`);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      fetchCourseData();\r\n    }\r\n  }, [id]);\r\n\r\n  const fetchMaterials = async () => {\r\n    try {\r\n      setMaterialsLoading(true);\r\n      console.log(\"Fetching materials for course ID:\", id);\r\n      const materialsResponse = await courseMaterialService.getMaterials(id);\r\n      console.log(\"Materials response:\", materialsResponse);\r\n      setMaterials(materialsResponse.data || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching materials:\", err);\r\n      if (err.response) {\r\n        console.error(\"Materials error response data:\", err.response.data);\r\n        console.error(\"Materials error response status:\", err.response.status);\r\n      }\r\n      // Don't set error state here to avoid overriding other errors\r\n    } finally {\r\n      setMaterialsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCourseUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setError(\"\");\r\n      await courseService.updateCourse(id, courseForm);\r\n      setCourse({\r\n        ...course,\r\n        ...courseForm\r\n      });\r\n      setSuccess(\"Course updated successfully!\");\r\n      setEditMode(false);\r\n      \r\n      // Clear success message after 3 seconds\r\n      setTimeout(() => {\r\n        setSuccess(\"\");\r\n      }, 3000);\r\n    } catch (err) {\r\n      console.error(\"Error updating course:\", err);\r\n      if (err.response) {\r\n        setError(`Failed to update course. Server error: ${err.response.status} ${err.response.statusText}`);\r\n      } else if (err.request) {\r\n        setError(\"Failed to update course. No response received from server.\");\r\n      } else {\r\n        setError(`Failed to update course: ${err.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setUploadForm({\r\n      ...uploadForm,\r\n      file: e.target.files[0]\r\n    });\r\n  };\r\n\r\n  const handleUploadMaterial = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!uploadForm.title || !uploadForm.file) {\r\n      setError(\"Please provide a title and select a file to upload.\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setUploadForm({ ...uploadForm, uploading: true });\r\n      \r\n      // First upload the file\r\n      const fileResponse = await fileService.uploadFile(uploadForm.file, \"course\");\r\n      \r\n      // Then create the course material with the file URL\r\n      const materialData = {\r\n        title: uploadForm.title,\r\n        type: uploadForm.file.type,\r\n        url: fileResponse.data.url,\r\n        fileName: uploadForm.file.name\r\n      };\r\n      \r\n      await courseMaterialService.addMaterial(id, materialData);\r\n      \r\n      // Refresh materials list\r\n      await fetchMaterials();\r\n      \r\n      // Reset form and close modal\r\n      setUploadForm({\r\n        title: \"\",\r\n        file: null,\r\n        uploading: false\r\n      });\r\n      setShowUploadModal(false);\r\n      setSuccess(\"Material uploaded successfully!\");\r\n      \r\n      // Clear success message after 3 seconds\r\n      setTimeout(() => {\r\n        setSuccess(\"\");\r\n      }, 3000);\r\n    } catch (err) {\r\n      console.error(\"Error uploading material:\", err);\r\n      setError(\"Failed to upload material. Please try again.\");\r\n      setUploadForm({ ...uploadForm, uploading: false });\r\n    }\r\n  };\r\n\r\n  const handleManualMaterialAdd = () => {\r\n    // This is a temporary workaround for the backend issue\r\n    const tempMaterial = {\r\n      id: Date.now().toString(), // Temporary ID\r\n      title: uploadForm.title,\r\n      type: uploadForm.file ? uploadForm.file.type : \"application/pdf\",\r\n      fileName: uploadForm.file ? uploadForm.file.name : \"document.pdf\",\r\n      url: \"#\", // Placeholder URL\r\n      uploadedAt: new Date().toISOString()\r\n    };\r\n    \r\n    // Add to local state\r\n    setMaterials([...materials, tempMaterial]);\r\n    \r\n    // Reset form and close modal\r\n    setUploadForm({\r\n      title: \"\",\r\n      file: null,\r\n      uploading: false\r\n    });\r\n    setShowUploadModal(false);\r\n    setSuccess(\"Material added to course (temporary). Backend storage is currently unavailable.\");\r\n    \r\n    // Clear success message after 5 seconds\r\n    setTimeout(() => {\r\n      setSuccess(\"\");\r\n    }, 5000);\r\n  };\r\n\r\n  const handleDeleteMaterial = async (materialId) => {\r\n    if (window.confirm(\"Are you sure you want to delete this material?\")) {\r\n      try {\r\n        await courseMaterialService.deleteMaterial(id, materialId);\r\n        setMaterials(materials.filter(m => m.id !== materialId));\r\n        setSuccess(\"Material deleted successfully!\");\r\n        \r\n        // Clear success message after 3 seconds\r\n        setTimeout(() => {\r\n          setSuccess(\"\");\r\n        }, 3000);\r\n      } catch (err) {\r\n        console.error(\"Error deleting material:\", err);\r\n        setError(\"Failed to delete material. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const createNewAssessment = () => {\r\n    navigate(`/assessment/create?courseId=${id}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"py-5 text-center\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3\">Loading course management...</p>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Redirect if not an instructor or if the course doesn't belong to this instructor\r\n  if (!user || user.role !== \"Instructor\") {\r\n    return (\r\n      <Container className=\"py-5 text-center\">\r\n        <Alert variant=\"danger\">\r\n          You do not have permission to manage this course.\r\n        </Alert>\r\n        <Button \r\n          variant=\"primary\" \r\n          onClick={() => navigate(\"/courses\")}\r\n          className=\"mt-3\"\r\n        >\r\n          Back to Courses\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <h1>Course Management</h1>\r\n            <div>\r\n              <Button \r\n                variant=\"outline-primary\" \r\n                className=\"me-2\"\r\n                onClick={() => navigate(`/course/${id}`)}\r\n              >\r\n                View Course\r\n              </Button>\r\n              <Button \r\n                variant={editMode ? \"success\" : \"primary\"} \r\n                onClick={() => setEditMode(!editMode)}\r\n              >\r\n                {editMode ? \"Save Changes\" : \"Edit Course\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {error && (\r\n        <Alert variant=\"danger\" className=\"mb-4\" onClose={() => setError(\"\")} dismissible>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert variant=\"success\" className=\"mb-4\" onClose={() => setSuccess(\"\")} dismissible>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Course Details Section */}\r\n      <Card className=\"mb-4 shadow-sm\">\r\n        <Card.Body>\r\n          {editMode ? (\r\n            <Form onSubmit={handleCourseUpdate}>\r\n              <Form.Group className=\"mb-3\" controlId=\"courseTitle\">\r\n                <Form.Label>Course Title</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={courseForm.title}\r\n                  onChange={(e) => setCourseForm({ ...courseForm, title: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" controlId=\"courseDescription\">\r\n                <Form.Label>Course Description</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={4}\r\n                  value={courseForm.description}\r\n                  onChange={(e) => setCourseForm({ ...courseForm, description: e.target.value })}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" controlId=\"courseImage\">\r\n                <Form.Label>Course Image URL (optional)</Form.Label>\r\n                <Form.Control\r\n                  type=\"url\"\r\n                  value={courseForm.mediaUrl}\r\n                  onChange={(e) => setCourseForm({ ...courseForm, mediaUrl: e.target.value })}\r\n                  placeholder=\"https://example.com/image.jpg\"\r\n                />\r\n                {courseForm.mediaUrl && (\r\n                  <div className=\"mt-2\">\r\n                    <img \r\n                      src={courseForm.mediaUrl} \r\n                      alt=\"Course preview\" \r\n                      style={{ maxHeight: \"200px\", maxWidth: \"100%\" }} \r\n                    />\r\n                  </div>\r\n                )}\r\n              </Form.Group>\r\n\r\n              <div className=\"d-flex justify-content-end gap-2\">\r\n                <Button variant=\"secondary\" onClick={() => setEditMode(false)}>\r\n                  Cancel\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                  Save Changes\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          ) : (\r\n            <div>\r\n              <h2>{course?.title}</h2>\r\n              <p className=\"text-muted\">{course?.description}</p>\r\n              {course?.mediaUrl && (\r\n                <img \r\n                  src={course.mediaUrl} \r\n                  alt={course.title} \r\n                  style={{ maxHeight: \"200px\", maxWidth: \"100%\" }} \r\n                  className=\"mt-3\" \r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Course Content Management */}\r\n      <Tabs defaultActiveKey=\"materials\" className=\"mb-4\">\r\n        <Tab eventKey=\"materials\" title=\"Course Materials\">\r\n          <Card className=\"shadow-sm\">\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">Course Materials</h5>\r\n              <div>\r\n                <Button \r\n                  variant=\"outline-primary\" \r\n                  className=\"me-2\" \r\n                  onClick={fetchMaterials}\r\n                  disabled={materialsLoading}\r\n                >\r\n                  {materialsLoading ? (\r\n                    <>\r\n                      <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"me-2\" />\r\n                      Refreshing...\r\n                    </>\r\n                  ) : (\r\n                    \"Refresh\"\r\n                  )}\r\n                </Button>\r\n                <Button variant=\"success\" onClick={() => setShowUploadModal(true)}>\r\n                  Upload New Material\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {materialsLoading ? (\r\n                <div className=\"text-center p-4\">\r\n                  <Spinner animation=\"border\" variant=\"primary\" />\r\n                  <p className=\"mt-3\">Loading materials...</p>\r\n                </div>\r\n              ) : materials.length === 0 ? (\r\n                <Alert variant=\"info\">\r\n                  No materials have been added to this course yet.\r\n                  <Button \r\n                    variant=\"primary\" \r\n                    className=\"d-block mx-auto mt-3\"\r\n                    onClick={() => setShowUploadModal(true)}\r\n                  >\r\n                    Upload Your First Material\r\n                  </Button>\r\n                </Alert>\r\n              ) : (\r\n                <ListGroup variant=\"flush\">\r\n                  {materials.map((material) => (\r\n                    <ListGroup.Item key={material.id} className=\"d-flex align-items-center py-3\">\r\n                      <div className=\"me-3 fs-4\">\r\n                        {fileService.getFileIcon(material.url)}\r\n                      </div>\r\n                      <div className=\"flex-grow-1\">\r\n                        <h5 className=\"mb-1\">{material.title}</h5>\r\n                        <p className=\"text-muted mb-0 small\">\r\n                          {material.fileName || fileService.getFileNameFromUrl(material.url)}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <Button \r\n                          variant=\"outline-danger\" \r\n                          size=\"sm\"\r\n                          onClick={() => handleDeleteMaterial(material.id)}\r\n                          className=\"ms-2\"\r\n                        >\r\n                          Delete\r\n                        </Button>\r\n                      </div>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n        \r\n        <Tab eventKey=\"assessments\" title=\"Assessments\">\r\n          <Card className=\"shadow-sm\">\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">Course Assessments</h5>\r\n              <Button variant=\"success\" onClick={createNewAssessment}>\r\n                Create New Assessment\r\n              </Button>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {assessments.length === 0 ? (\r\n                <Alert variant=\"info\">\r\n                  No assessments have been added to this course yet.\r\n                  <Button \r\n                    variant=\"primary\" \r\n                    className=\"d-block mx-auto mt-3\"\r\n                    onClick={createNewAssessment}\r\n                  >\r\n                    Create Your First Assessment\r\n                  </Button>\r\n                </Alert>\r\n              ) : (\r\n                <ListGroup variant=\"flush\">\r\n                  {assessments.map((assessment) => (\r\n                    <ListGroup.Item key={assessment.assessmentId} className=\"d-flex align-items-center py-3\">\r\n                      <div className=\"me-3 fs-4\"></div>\r\n                      <div className=\"flex-grow-1\">\r\n                        <h5 className=\"mb-1\">{assessment.title}</h5>\r\n                        <p className=\"text-muted mb-0 small\">\r\n                          Max Score: {assessment.maxScore} points\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <Button \r\n                          variant=\"outline-primary\" \r\n                          size=\"sm\"\r\n                          onClick={() => navigate(`/assessment/edit/${assessment.assessmentId}`)}\r\n                          className=\"me-2\"\r\n                        >\r\n                          Edit\r\n                        </Button>\r\n                        <Button \r\n                          variant=\"outline-danger\" \r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            if (window.confirm(\"Are you sure you want to delete this assessment?\")) {\r\n                              assessmentService.deleteAssessment(assessment.assessmentId)\r\n                                .then(() => {\r\n                                  setAssessments(assessments.filter(a => a.assessmentId !== assessment.assessmentId));\r\n                                  setSuccess(\"Assessment deleted successfully!\");\r\n                                })\r\n                                .catch(err => {\r\n                                  console.error(\"Error deleting assessment:\", err);\r\n                                  setError(\"Failed to delete assessment. Please try again.\");\r\n                                });\r\n                            }\r\n                          }}\r\n                        >\r\n                          Delete\r\n                        </Button>\r\n                      </div>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Tab>\r\n      </Tabs>\r\n\r\n      {/* Upload Material Modal */}\r\n      <Modal show={showUploadModal} onHide={() => !uploadForm.uploading && setShowUploadModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Upload Course Material</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {error && (\r\n            <Alert variant=\"danger\" onClose={() => setError(\"\")} dismissible>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          \r\n          <Form onSubmit={handleUploadMaterial}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Material Title</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={uploadForm.title}\r\n                onChange={(e) => setUploadForm({ ...uploadForm, title: e.target.value })}\r\n                placeholder=\"Enter a title for this material\"\r\n                required\r\n                disabled={uploadForm.uploading}\r\n              />\r\n            </Form.Group>\r\n            \r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>File</Form.Label>\r\n              <Form.Control\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                required\r\n                disabled={uploadForm.uploading}\r\n              />\r\n            </Form.Group>\r\n            \r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setShowUploadModal(false)}\r\n                disabled={uploadForm.uploading}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n                disabled={uploadForm.uploading || !uploadForm.title || !uploadForm.file}\r\n              >\r\n                {uploadForm.uploading ? (\r\n                  <>\r\n                    <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"me-2\" />\r\n                    Uploading...\r\n                  </>\r\n                ) : (\r\n                  \"Upload Material\"\r\n                )}\r\n              </Button>\r\n              \r\n              {/* Temporary workaround button */}\r\n              <Button \r\n                variant=\"warning\" \r\n                onClick={handleManualMaterialAdd}\r\n                disabled={uploadForm.uploading || !uploadForm.title}\r\n                title=\"Temporary workaround for backend issues\"\r\n              >\r\n                Add Without Upload\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CourseManagementPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}