{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || `${window.location.origin.replace(/:\\\\d+$/, ':5062')}/api`;\n\n// Create axios instance for authentication\nexport const authAPI = axios.create({\n  baseURL: `${API_BASE_URL}`,\n  timeout: Number.parseInt(process.env.REACT_APP_API_TIMEOUT) || 10000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// Create axios instance for general API calls\nexport const api = axios.create({\n  baseURL: `${API_BASE_URL}`,\n  timeout: Number.parseInt(process.env.REACT_APP_API_TIMEOUT) || 10000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// Add request interceptor to include auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Add response interceptor to handle auth errors\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\n\n// API service functions\nexport const courseService = {\n  getAllCourses: () => api.get(\"/courses\"),\n  getCourseById: id => api.get(`/courses/${id}`),\n  createCourse: courseData => api.post(\"/courses\", courseData),\n  updateCourse: (id, courseData) => api.put(`/courses/${id}`, courseData),\n  deleteCourse: id => api.delete(`/courses/${id}`),\n  enrollInCourse: courseId => api.post(`/courses/${courseId}/enroll`),\n  getInstructorCourses: () => api.get(\"/courses/instructor\"),\n  getStudentCourses: () => api.get(\"/courses/student\")\n};\nexport const assessmentService = {\n  getAssessmentsByCourse: courseId => api.get(`/assessments/course/${courseId}`),\n  getAssessmentById: id => api.get(`/assessments/${id}`),\n  createAssessment: assessmentData => api.post(\"/assessments\", assessmentData),\n  updateAssessment: (id, assessmentData) => api.put(`/assessments/${id}`, assessmentData),\n  deleteAssessment: id => api.delete(`/assessments/${id}`),\n  submitAssessment: (assessmentId, answers) => api.post(`/assessments/${assessmentId}/submit`, {\n    answers\n  }),\n  getStudentResults: assessmentId => api.get(`/assessments/${assessmentId}/results`)\n};\nexport const userService = {\n  getProfile: () => api.get(\"/users/profile\"),\n  updateProfile: userData => api.put(\"/users/profile\", userData),\n  getStudentProgress: () => api.get(\"/users/progress\"),\n  getInstructorStats: () => api.get(\"/users/instructor-stats\")\n};\nexport const fileService = {\n  uploadFile: (file, type = \"course\") => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"type\", type);\n    return api.post(\"/files/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  },\n  deleteFile: fileId => api.delete(`/files/${fileId}`)\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","window","location","origin","replace","authAPI","create","baseURL","timeout","Number","parseInt","REACT_APP_API_TIMEOUT","headers","api","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","href","courseService","getAllCourses","get","getCourseById","id","createCourse","courseData","post","updateCourse","put","deleteCourse","delete","enrollInCourse","courseId","getInstructorCourses","getStudentCourses","assessmentService","getAssessmentsByCourse","getAssessmentById","createAssessment","assessmentData","updateAssessment","deleteAssessment","submitAssessment","assessmentId","answers","getStudentResults","userService","getProfile","updateProfile","userData","getStudentProgress","getInstructorStats","fileService","uploadFile","file","type","formData","FormData","append","deleteFile","fileId"],"sources":["E:/project-capg/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || `${window.location.origin.replace(/:\\\\d+$/, ':5062')}/api`\n\n// Create axios instance for authentication\nexport const authAPI = axios.create({\n  baseURL: `${API_BASE_URL}`,\n  timeout: Number.parseInt(process.env.REACT_APP_API_TIMEOUT) || 10000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\n// Create axios instance for general API calls\nexport const api = axios.create({\n  baseURL: `${API_BASE_URL}`,\n  timeout: Number.parseInt(process.env.REACT_APP_API_TIMEOUT) || 10000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\n// Add request interceptor to include auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\n// Add response interceptor to handle auth errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"user\")\n      window.location.href = \"/login\"\n    }\n    return Promise.reject(error)\n  },\n)\n\n// API service functions\nexport const courseService = {\n  getAllCourses: () => api.get(\"/courses\"),\n  getCourseById: (id) => api.get(`/courses/${id}`),\n  createCourse: (courseData) => api.post(\"/courses\", courseData),\n  updateCourse: (id, courseData) => api.put(`/courses/${id}`, courseData),\n  deleteCourse: (id) => api.delete(`/courses/${id}`),\n  enrollInCourse: (courseId) => api.post(`/courses/${courseId}/enroll`),\n  getInstructorCourses: () => api.get(\"/courses/instructor\"),\n  getStudentCourses: () => api.get(\"/courses/student\"),\n}\n\nexport const assessmentService = {\n  getAssessmentsByCourse: (courseId) => api.get(`/assessments/course/${courseId}`),\n  getAssessmentById: (id) => api.get(`/assessments/${id}`),\n  createAssessment: (assessmentData) => api.post(\"/assessments\", assessmentData),\n  updateAssessment: (id, assessmentData) => api.put(`/assessments/${id}`, assessmentData),\n  deleteAssessment: (id) => api.delete(`/assessments/${id}`),\n  submitAssessment: (assessmentId, answers) => api.post(`/assessments/${assessmentId}/submit`, { answers }),\n  getStudentResults: (assessmentId) => api.get(`/assessments/${assessmentId}/results`),\n}\n\nexport const userService = {\n  getProfile: () => api.get(\"/users/profile\"),\n  updateProfile: (userData) => api.put(\"/users/profile\", userData),\n  getStudentProgress: () => api.get(\"/users/progress\"),\n  getInstructorStats: () => api.get(\"/users/instructor-stats\"),\n}\n\nexport const fileService = {\n  uploadFile: (file, type = \"course\") => {\n    const formData = new FormData()\n    formData.append(\"file\", file)\n    formData.append(\"type\", type)\n\n    return api.post(\"/files/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    })\n  },\n  deleteFile: (fileId) => api.delete(`/files/${fileId}`),\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM;;AAErH;AACA,OAAO,MAAMC,OAAO,GAAGT,KAAK,CAACU,MAAM,CAAC;EAClCC,OAAO,EAAE,GAAGV,YAAY,EAAE;EAC1BW,OAAO,EAAEC,MAAM,CAACC,QAAQ,CAACZ,OAAO,CAACC,GAAG,CAACY,qBAAqB,CAAC,IAAI,KAAK;EACpEC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,GAAG,GAAGjB,KAAK,CAACU,MAAM,CAAC;EAC9BC,OAAO,EAAE,GAAGV,YAAY,EAAE;EAC1BW,OAAO,EAAEC,MAAM,CAACC,QAAQ,CAACZ,OAAO,CAACC,GAAG,CAACY,qBAAqB,CAAC,IAAI,KAAK;EACpEC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAC,GAAG,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACL,OAAO,CAACS,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EACAK,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAT,GAAG,CAACC,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,IAAKA,QAAQ,EACrBH,KAAK,IAAK;EAAA,IAAAI,eAAA;EACT,IAAI,EAAAA,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;IAC/B3B,MAAM,CAACC,QAAQ,CAAC2B,IAAI,GAAG,QAAQ;EACjC;EACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA,OAAO,MAAMQ,aAAa,GAAG;EAC3BC,aAAa,EAAEA,CAAA,KAAMlB,GAAG,CAACmB,GAAG,CAAC,UAAU,CAAC;EACxCC,aAAa,EAAGC,EAAE,IAAKrB,GAAG,CAACmB,GAAG,CAAC,YAAYE,EAAE,EAAE,CAAC;EAChDC,YAAY,EAAGC,UAAU,IAAKvB,GAAG,CAACwB,IAAI,CAAC,UAAU,EAAED,UAAU,CAAC;EAC9DE,YAAY,EAAEA,CAACJ,EAAE,EAAEE,UAAU,KAAKvB,GAAG,CAAC0B,GAAG,CAAC,YAAYL,EAAE,EAAE,EAAEE,UAAU,CAAC;EACvEI,YAAY,EAAGN,EAAE,IAAKrB,GAAG,CAAC4B,MAAM,CAAC,YAAYP,EAAE,EAAE,CAAC;EAClDQ,cAAc,EAAGC,QAAQ,IAAK9B,GAAG,CAACwB,IAAI,CAAC,YAAYM,QAAQ,SAAS,CAAC;EACrEC,oBAAoB,EAAEA,CAAA,KAAM/B,GAAG,CAACmB,GAAG,CAAC,qBAAqB,CAAC;EAC1Da,iBAAiB,EAAEA,CAAA,KAAMhC,GAAG,CAACmB,GAAG,CAAC,kBAAkB;AACrD,CAAC;AAED,OAAO,MAAMc,iBAAiB,GAAG;EAC/BC,sBAAsB,EAAGJ,QAAQ,IAAK9B,GAAG,CAACmB,GAAG,CAAC,uBAAuBW,QAAQ,EAAE,CAAC;EAChFK,iBAAiB,EAAGd,EAAE,IAAKrB,GAAG,CAACmB,GAAG,CAAC,gBAAgBE,EAAE,EAAE,CAAC;EACxDe,gBAAgB,EAAGC,cAAc,IAAKrC,GAAG,CAACwB,IAAI,CAAC,cAAc,EAAEa,cAAc,CAAC;EAC9EC,gBAAgB,EAAEA,CAACjB,EAAE,EAAEgB,cAAc,KAAKrC,GAAG,CAAC0B,GAAG,CAAC,gBAAgBL,EAAE,EAAE,EAAEgB,cAAc,CAAC;EACvFE,gBAAgB,EAAGlB,EAAE,IAAKrB,GAAG,CAAC4B,MAAM,CAAC,gBAAgBP,EAAE,EAAE,CAAC;EAC1DmB,gBAAgB,EAAEA,CAACC,YAAY,EAAEC,OAAO,KAAK1C,GAAG,CAACwB,IAAI,CAAC,gBAAgBiB,YAAY,SAAS,EAAE;IAAEC;EAAQ,CAAC,CAAC;EACzGC,iBAAiB,EAAGF,YAAY,IAAKzC,GAAG,CAACmB,GAAG,CAAC,gBAAgBsB,YAAY,UAAU;AACrF,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG;EACzBC,UAAU,EAAEA,CAAA,KAAM7C,GAAG,CAACmB,GAAG,CAAC,gBAAgB,CAAC;EAC3C2B,aAAa,EAAGC,QAAQ,IAAK/C,GAAG,CAAC0B,GAAG,CAAC,gBAAgB,EAAEqB,QAAQ,CAAC;EAChEC,kBAAkB,EAAEA,CAAA,KAAMhD,GAAG,CAACmB,GAAG,CAAC,iBAAiB,CAAC;EACpD8B,kBAAkB,EAAEA,CAAA,KAAMjD,GAAG,CAACmB,GAAG,CAAC,yBAAyB;AAC7D,CAAC;AAED,OAAO,MAAM+B,WAAW,GAAG;EACzBC,UAAU,EAAEA,CAACC,IAAI,EAAEC,IAAI,GAAG,QAAQ,KAAK;IACrC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAC7BE,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAE7B,OAAOrD,GAAG,CAACwB,IAAI,CAAC,eAAe,EAAE8B,QAAQ,EAAE;MACzCvD,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;EACJ,CAAC;EACD0D,UAAU,EAAGC,MAAM,IAAK1D,GAAG,CAAC4B,MAAM,CAAC,UAAU8B,MAAM,EAAE;AACvD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}