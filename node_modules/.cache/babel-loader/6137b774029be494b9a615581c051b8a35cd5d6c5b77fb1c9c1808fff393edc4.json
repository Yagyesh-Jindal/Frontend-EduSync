{"ast":null,"code":"var _jsxFileName = \"E:\\\\project-capg\\\\frontend\\\\src\\\\components\\\\CourseMaterialsManager.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Form, Button, Alert, ListGroup, Card, Tabs, Tab, Badge } from \"react-bootstrap\";\nimport { courseMaterialService, fileService } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseMaterialsManager = ({\n  courseId,\n  existingMaterials = [],\n  onMaterialsUpdate\n}) => {\n  _s();\n  const [materials, setMaterials] = useState(existingMaterials);\n  const [newMaterial, setNewMaterial] = useState({\n    title: \"\",\n    type: \"PDF Document\",\n    url: \"\"\n  });\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"url\");\n\n  // Fetch materials when component mounts or courseId changes\n  useEffect(() => {\n    if (courseId) {\n      fetchMaterials();\n    }\n  }, [courseId]);\n  const fetchMaterials = async () => {\n    try {\n      setIsLoading(true);\n      const response = await courseMaterialService.getMaterials(courseId);\n      console.log(\"Fetched materials:\", response.data);\n      setMaterials(response.data || []);\n\n      // Notify parent component\n      if (onMaterialsUpdate) {\n        onMaterialsUpdate(response.data || []);\n      }\n    } catch (error) {\n      console.error(\"Error fetching materials:\", error);\n      setError(\"Failed to load course materials. Please refresh the page.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewMaterial({\n      ...newMaterial,\n      [name]: value\n    });\n  };\n  const handleFileChange = e => {\n    if (e.target.files.length > 0) {\n      setSelectedFile(e.target.files[0]);\n      // Auto-fill title if empty\n      if (!newMaterial.title.trim()) {\n        const fileName = e.target.files[0].name.split('.').slice(0, -1).join('.');\n        setNewMaterial({\n          ...newMaterial,\n          title: fileName\n        });\n      }\n    }\n  };\n  const handleFileUpload = async () => {\n    if (!selectedFile) {\n      setError(\"Please select a file to upload\");\n      return;\n    }\n    if (!newMaterial.title.trim()) {\n      setError(\"Please provide a title for the material\");\n      return;\n    }\n    setIsUploading(true);\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      // Upload file to Azure Blob Storage\n      const uploadResponse = await fileService.uploadFile(selectedFile, \"course\");\n      console.log(\"File uploaded:\", uploadResponse.data);\n\n      // Add material with the uploaded file URL\n      const materialToAdd = {\n        ...newMaterial,\n        url: uploadResponse.data.url\n      };\n      const response = await courseMaterialService.addMaterial(courseId, materialToAdd);\n      console.log(\"Material added response:\", response.data);\n\n      // Update local state\n      const addedMaterial = response.data;\n      const updatedMaterials = [...materials, addedMaterial];\n      setMaterials(updatedMaterials);\n\n      // Notify parent component\n      if (onMaterialsUpdate) {\n        onMaterialsUpdate(updatedMaterials);\n      }\n\n      // Reset form\n      setNewMaterial({\n        title: \"\",\n        type: \"PDF Document\",\n        url: \"\"\n      });\n      setSelectedFile(null);\n      document.getElementById('fileInput').value = '';\n      setSuccess(\"Material uploaded and added successfully!\");\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      setError(error.message || \"Failed to upload file. Please try again.\");\n    } finally {\n      setIsUploading(false);\n      setUploadProgress(0);\n    }\n  };\n  const handleAddMaterial = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      // Validate inputs\n      if (!newMaterial.title.trim()) {\n        throw new Error(\"Title is required\");\n      }\n      if (!newMaterial.url.trim()) {\n        throw new Error(\"URL is required\");\n      }\n      console.log(\"Adding material:\", newMaterial);\n      const response = await courseMaterialService.addMaterial(courseId, newMaterial);\n      console.log(\"Material added response:\", response.data);\n\n      // Update local state\n      const addedMaterial = response.data;\n      const updatedMaterials = [...materials, addedMaterial];\n      setMaterials(updatedMaterials);\n\n      // Notify parent component\n      if (onMaterialsUpdate) {\n        onMaterialsUpdate(updatedMaterials);\n      }\n\n      // Reset form\n      setNewMaterial({\n        title: \"\",\n        type: \"PDF Document\",\n        url: \"\"\n      });\n      setSuccess(\"Material added successfully!\");\n    } catch (error) {\n      console.error(\"Error adding material:\", error);\n      setError(error.message || \"Failed to add material. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleDeleteMaterial = async materialId => {\n    if (!window.confirm(\"Are you sure you want to delete this material?\")) {\n      return;\n    }\n    setIsLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      await courseMaterialService.deleteMaterial(courseId, materialId);\n      console.log(\"Material deleted:\", materialId);\n\n      // Update local state\n      const updatedMaterials = materials.filter(m => m.id !== materialId);\n      setMaterials(updatedMaterials);\n\n      // Notify parent component\n      if (onMaterialsUpdate) {\n        onMaterialsUpdate(updatedMaterials);\n      }\n      setSuccess(\"Material deleted successfully!\");\n    } catch (error) {\n      console.error(\"Error deleting material:\", error);\n      setError(\"Failed to delete material. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getMaterialIcon = materialType => {\n    switch (materialType) {\n      case 'PDF Document':\n        return 'ðŸ“„';\n      case 'Video':\n        return 'ðŸŽ¬';\n      case 'Presentation':\n        return 'ðŸ“Š';\n      case 'Assignment':\n        return 'ðŸ“';\n      default:\n        return 'ðŸ“';\n    }\n  };\n  const getFileExtension = url => {\n    if (!url) return null;\n    const extension = url.split('.').pop().toLowerCase();\n    return extension;\n  };\n  const isPreviewable = url => {\n    if (!url) return false;\n    const extension = getFileExtension(url);\n    return ['pdf', 'jpg', 'jpeg', 'png', 'gif'].includes(extension);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"course-materials-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"mb-3\",\n      children: \"Course Materials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Card.Header, {\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          activeKey: activeTab,\n          onSelect: k => setActiveTab(k),\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"upload\",\n            title: \"Upload File\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              className: \"p-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"title\",\n                  value: newMaterial.title,\n                  onChange: handleInputChange,\n                  placeholder: \"Enter material title\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  name: \"type\",\n                  value: newMaterial.type,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PDF Document\",\n                    children: \"PDF Document\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Video\",\n                    children: \"Video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Presentation\",\n                    children: \"Presentation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Assignment\",\n                    children: \"Assignment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Select File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"file\",\n                  id: \"fileInput\",\n                  onChange: handleFileChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                  className: \"text-muted\",\n                  children: \"Max file size: 10MB. Supported formats: PDF, DOC, DOCX, PPT, PPTX, MP4, etc.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress-bar\",\n                    role: \"progressbar\",\n                    style: {\n                      width: `${uploadProgress}%`\n                    },\n                    \"aria-valuenow\": uploadProgress,\n                    \"aria-valuemin\": \"0\",\n                    \"aria-valuemax\": \"100\",\n                    children: [uploadProgress, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                onClick: handleFileUpload,\n                disabled: isUploading || !selectedFile,\n                children: isUploading ? \"Uploading...\" : \"Upload & Add Material\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"url\",\n            title: \"Add URL\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleAddMaterial,\n              className: \"p-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"title\",\n                  value: newMaterial.title,\n                  onChange: handleInputChange,\n                  placeholder: \"Enter material title\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                  name: \"type\",\n                  value: newMaterial.type,\n                  onChange: handleInputChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"PDF Document\",\n                    children: \"PDF Document\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Video\",\n                    children: \"Video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Presentation\",\n                    children: \"Presentation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Assignment\",\n                    children: \"Assignment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"URL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"url\",\n                  name: \"url\",\n                  value: newMaterial.url,\n                  onChange: handleInputChange,\n                  placeholder: \"Enter material URL\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                  className: \"text-muted\",\n                  children: \"Enter a direct URL to your material (e.g., Google Drive, Dropbox, or other hosting service)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"primary\",\n                disabled: isLoading,\n                children: isLoading ? \"Adding...\" : \"Add Material\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n      children: \"Existing Materials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border spinner-border-sm text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }, this) : materials.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n      className: \"text-center p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted mb-0\",\n        children: \"No materials added yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: materials.map(material => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"me-2\",\n              style: {\n                fontSize: '1.5rem'\n              },\n              children: getMaterialIcon(material.type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: material.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [material.type, material.uploadedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\" \\u2022 Uploaded: \", new Date(material.uploadedAt).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [isPreviewable(material.url) ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-primary\",\n            size: \"sm\",\n            className: \"me-2\",\n            onClick: () => window.open(material.url, '_blank'),\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-primary\",\n            size: \"sm\",\n            className: \"me-2\",\n            as: \"a\",\n            href: material.url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            download: true,\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-danger\",\n            size: \"sm\",\n            onClick: () => handleDeleteMaterial(material.id),\n            disabled: isLoading,\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }, this)]\n      }, material.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseMaterialsManager, \"FjW6CCinUqXTb70ywHKVFyu7iH0=\");\n_c = CourseMaterialsManager;\nexport default CourseMaterialsManager;\nvar _c;\n$RefreshReg$(_c, \"CourseMaterialsManager\");","map":{"version":3,"names":["useState","useEffect","Form","Button","Alert","ListGroup","Card","Tabs","Tab","Badge","courseMaterialService","fileService","jsxDEV","_jsxDEV","CourseMaterialsManager","courseId","existingMaterials","onMaterialsUpdate","_s","materials","setMaterials","newMaterial","setNewMaterial","title","type","url","selectedFile","setSelectedFile","uploadProgress","setUploadProgress","isUploading","setIsUploading","error","setError","success","setSuccess","isLoading","setIsLoading","activeTab","setActiveTab","fetchMaterials","response","getMaterials","console","log","data","handleInputChange","e","name","value","target","handleFileChange","files","length","trim","fileName","split","slice","join","handleFileUpload","uploadResponse","uploadFile","materialToAdd","addMaterial","addedMaterial","updatedMaterials","document","getElementById","message","handleAddMaterial","preventDefault","Error","handleDeleteMaterial","materialId","window","confirm","deleteMaterial","filter","m","id","getMaterialIcon","materialType","getFileExtension","extension","pop","toLowerCase","isPreviewable","includes","className","children","_jsxFileName","lineNumber","columnNumber","variant","Header","activeKey","onSelect","k","eventKey","Group","Label","Control","onChange","placeholder","required","Select","Text","role","style","width","onClick","disabled","onSubmit","map","material","Item","fontSize","uploadedAt","Date","toLocaleDateString","size","open","as","href","rel","download","_c","$RefreshReg$"],"sources":["E:/project-capg/frontend/src/components/CourseMaterialsManager.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Form, Button, Alert, ListGroup, Card, Tabs, Tab, Badge } from \"react-bootstrap\";\r\nimport { courseMaterialService, fileService } from \"../services/api\";\r\n\r\nconst CourseMaterialsManager = ({ courseId, existingMaterials = [], onMaterialsUpdate }) => {\r\n  const [materials, setMaterials] = useState(existingMaterials);\r\n  const [newMaterial, setNewMaterial] = useState({\r\n    title: \"\",\r\n    type: \"PDF Document\",\r\n    url: \"\"\r\n  });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"url\");\r\n\r\n  // Fetch materials when component mounts or courseId changes\r\n  useEffect(() => {\r\n    if (courseId) {\r\n      fetchMaterials();\r\n    }\r\n  }, [courseId]);\r\n\r\n  const fetchMaterials = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await courseMaterialService.getMaterials(courseId);\r\n      console.log(\"Fetched materials:\", response.data);\r\n      setMaterials(response.data || []);\r\n      \r\n      // Notify parent component\r\n      if (onMaterialsUpdate) {\r\n        onMaterialsUpdate(response.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching materials:\", error);\r\n      setError(\"Failed to load course materials. Please refresh the page.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewMaterial({\r\n      ...newMaterial,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    if (e.target.files.length > 0) {\r\n      setSelectedFile(e.target.files[0]);\r\n      // Auto-fill title if empty\r\n      if (!newMaterial.title.trim()) {\r\n        const fileName = e.target.files[0].name.split('.').slice(0, -1).join('.');\r\n        setNewMaterial({\r\n          ...newMaterial,\r\n          title: fileName\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError(\"Please select a file to upload\");\r\n      return;\r\n    }\r\n\r\n    if (!newMaterial.title.trim()) {\r\n      setError(\"Please provide a title for the material\");\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      // Upload file to Azure Blob Storage\r\n      const uploadResponse = await fileService.uploadFile(selectedFile, \"course\");\r\n      console.log(\"File uploaded:\", uploadResponse.data);\r\n\r\n      // Add material with the uploaded file URL\r\n      const materialToAdd = {\r\n        ...newMaterial,\r\n        url: uploadResponse.data.url\r\n      };\r\n\r\n      const response = await courseMaterialService.addMaterial(courseId, materialToAdd);\r\n      console.log(\"Material added response:\", response.data);\r\n      \r\n      // Update local state\r\n      const addedMaterial = response.data;\r\n      const updatedMaterials = [...materials, addedMaterial];\r\n      setMaterials(updatedMaterials);\r\n      \r\n      // Notify parent component\r\n      if (onMaterialsUpdate) {\r\n        onMaterialsUpdate(updatedMaterials);\r\n      }\r\n      \r\n      // Reset form\r\n      setNewMaterial({\r\n        title: \"\",\r\n        type: \"PDF Document\",\r\n        url: \"\"\r\n      });\r\n      setSelectedFile(null);\r\n      document.getElementById('fileInput').value = '';\r\n      \r\n      setSuccess(\"Material uploaded and added successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error uploading file:\", error);\r\n      setError(error.message || \"Failed to upload file. Please try again.\");\r\n    } finally {\r\n      setIsUploading(false);\r\n      setUploadProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleAddMaterial = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      // Validate inputs\r\n      if (!newMaterial.title.trim()) {\r\n        throw new Error(\"Title is required\");\r\n      }\r\n      \r\n      if (!newMaterial.url.trim()) {\r\n        throw new Error(\"URL is required\");\r\n      }\r\n      \r\n      console.log(\"Adding material:\", newMaterial);\r\n      const response = await courseMaterialService.addMaterial(courseId, newMaterial);\r\n      console.log(\"Material added response:\", response.data);\r\n      \r\n      // Update local state\r\n      const addedMaterial = response.data;\r\n      const updatedMaterials = [...materials, addedMaterial];\r\n      setMaterials(updatedMaterials);\r\n      \r\n      // Notify parent component\r\n      if (onMaterialsUpdate) {\r\n        onMaterialsUpdate(updatedMaterials);\r\n      }\r\n      \r\n      // Reset form\r\n      setNewMaterial({\r\n        title: \"\",\r\n        type: \"PDF Document\",\r\n        url: \"\"\r\n      });\r\n      \r\n      setSuccess(\"Material added successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error adding material:\", error);\r\n      setError(error.message || \"Failed to add material. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteMaterial = async (materialId) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this material?\")) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      await courseMaterialService.deleteMaterial(courseId, materialId);\r\n      console.log(\"Material deleted:\", materialId);\r\n      \r\n      // Update local state\r\n      const updatedMaterials = materials.filter(m => m.id !== materialId);\r\n      setMaterials(updatedMaterials);\r\n      \r\n      // Notify parent component\r\n      if (onMaterialsUpdate) {\r\n        onMaterialsUpdate(updatedMaterials);\r\n      }\r\n      \r\n      setSuccess(\"Material deleted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting material:\", error);\r\n      setError(\"Failed to delete material. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getMaterialIcon = (materialType) => {\r\n    switch (materialType) {\r\n      case 'PDF Document':\r\n        return 'ðŸ“„';\r\n      case 'Video':\r\n        return 'ðŸŽ¬';\r\n      case 'Presentation':\r\n        return 'ðŸ“Š';\r\n      case 'Assignment':\r\n        return 'ðŸ“';\r\n      default:\r\n        return 'ðŸ“';\r\n    }\r\n  };\r\n\r\n  const getFileExtension = (url) => {\r\n    if (!url) return null;\r\n    const extension = url.split('.').pop().toLowerCase();\r\n    return extension;\r\n  };\r\n\r\n  const isPreviewable = (url) => {\r\n    if (!url) return false;\r\n    const extension = getFileExtension(url);\r\n    return ['pdf', 'jpg', 'jpeg', 'png', 'gif'].includes(extension);\r\n  };\r\n\r\n  return (\r\n    <div className=\"course-materials-manager\">\r\n      <h5 className=\"mb-3\">Course Materials</h5>\r\n      \r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {success && <Alert variant=\"success\">{success}</Alert>}\r\n      \r\n      <Card className=\"mb-4\">\r\n        <Card.Header>\r\n          <Tabs\r\n            activeKey={activeTab}\r\n            onSelect={(k) => setActiveTab(k)}\r\n            className=\"mb-3\"\r\n          >\r\n            <Tab eventKey=\"upload\" title=\"Upload File\">\r\n              <Form className=\"p-3\">\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Title</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={newMaterial.title}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter material title\"\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Type</Form.Label>\r\n                  <Form.Select\r\n                    name=\"type\"\r\n                    value={newMaterial.type}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  >\r\n                    <option value=\"PDF Document\">PDF Document</option>\r\n                    <option value=\"Video\">Video</option>\r\n                    <option value=\"Presentation\">Presentation</option>\r\n                    <option value=\"Assignment\">Assignment</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Select File</Form.Label>\r\n                  <Form.Control\r\n                    type=\"file\"\r\n                    id=\"fileInput\"\r\n                    onChange={handleFileChange}\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Max file size: 10MB. Supported formats: PDF, DOC, DOCX, PPT, PPTX, MP4, etc.\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                \r\n                {isUploading && (\r\n                  <div className=\"mb-3\">\r\n                    <div className=\"progress\">\r\n                      <div \r\n                        className=\"progress-bar\" \r\n                        role=\"progressbar\" \r\n                        style={{ width: `${uploadProgress}%` }}\r\n                        aria-valuenow={uploadProgress} \r\n                        aria-valuemin=\"0\" \r\n                        aria-valuemax=\"100\">\r\n                        {uploadProgress}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                <Button \r\n                  variant=\"primary\" \r\n                  onClick={handleFileUpload}\r\n                  disabled={isUploading || !selectedFile}\r\n                >\r\n                  {isUploading ? \"Uploading...\" : \"Upload & Add Material\"}\r\n                </Button>\r\n              </Form>\r\n            </Tab>\r\n            <Tab eventKey=\"url\" title=\"Add URL\">\r\n              <Form onSubmit={handleAddMaterial} className=\"p-3\">\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Title</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={newMaterial.title}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter material title\"\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Type</Form.Label>\r\n                  <Form.Select\r\n                    name=\"type\"\r\n                    value={newMaterial.type}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  >\r\n                    <option value=\"PDF Document\">PDF Document</option>\r\n                    <option value=\"Video\">Video</option>\r\n                    <option value=\"Presentation\">Presentation</option>\r\n                    <option value=\"Assignment\">Assignment</option>\r\n                    <option value=\"Other\">Other</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>URL</Form.Label>\r\n                  <Form.Control\r\n                    type=\"url\"\r\n                    name=\"url\"\r\n                    value={newMaterial.url}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Enter material URL\"\r\n                    required\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Enter a direct URL to your material (e.g., Google Drive, Dropbox, or other hosting service)\r\n                  </Form.Text>\r\n                </Form.Group>\r\n                \r\n                <Button \r\n                  type=\"submit\" \r\n                  variant=\"primary\" \r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? \"Adding...\" : \"Add Material\"}\r\n                </Button>\r\n              </Form>\r\n            </Tab>\r\n          </Tabs>\r\n        </Card.Header>\r\n      </Card>\r\n      \r\n      <h6>Existing Materials</h6>\r\n      {isLoading ? (\r\n        <div className=\"text-center py-3\">\r\n          <div className=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      ) : materials.length === 0 ? (\r\n        <Card className=\"text-center p-3\">\r\n          <p className=\"text-muted mb-0\">No materials added yet</p>\r\n        </Card>\r\n      ) : (\r\n        <ListGroup>\r\n          {materials.map((material) => (\r\n            <ListGroup.Item \r\n              key={material.id} \r\n              className=\"d-flex justify-content-between align-items-center\"\r\n            >\r\n              <div>\r\n                <div className=\"d-flex align-items-center\">\r\n                  <span className=\"me-2\" style={{ fontSize: '1.5rem' }}>\r\n                    {getMaterialIcon(material.type)}\r\n                  </span>\r\n                  <div>\r\n                    <strong>{material.title}</strong>\r\n                    <br />\r\n                    <small className=\"text-muted\">\r\n                      {material.type} \r\n                      {material.uploadedAt && (\r\n                        <span> â€¢ Uploaded: {new Date(material.uploadedAt).toLocaleDateString()}</span>\r\n                      )}\r\n                    </small>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {isPreviewable(material.url) ? (\r\n                  <Button \r\n                    variant=\"outline-primary\"\r\n                    size=\"sm\"\r\n                    className=\"me-2\"\r\n                    onClick={() => window.open(material.url, '_blank')}\r\n                  >\r\n                    Preview\r\n                  </Button>\r\n                ) : (\r\n                  <Button \r\n                    variant=\"outline-primary\"\r\n                    size=\"sm\"\r\n                    className=\"me-2\"\r\n                    as=\"a\"\r\n                    href={material.url}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    download\r\n                  >\r\n                    Download\r\n                  </Button>\r\n                )}\r\n                <Button \r\n                  variant=\"outline-danger\" \r\n                  size=\"sm\"\r\n                  onClick={() => handleDeleteMaterial(material.id)}\r\n                  disabled={isLoading}\r\n                >\r\n                  Remove\r\n                </Button>\r\n              </div>\r\n            </ListGroup.Item>\r\n          ))}\r\n        </ListGroup>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseMaterialsManager; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}